<!doctype html>
<html>
  <head>
    <!-- MathJax -->
    <script type="text/javascript"
      src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>
      Caffe | Developing and Contributing
    </title>

    <link rel="stylesheet" href="/stylesheets/reset.css">
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46255508-1', 'daggerfs.com');
    ga('send', 'pageview');
  </script>
    <div class="wrapper">
      <header>
        <h1 class="header"><a href="/">Caffe</a></h1>
        <p class="header">
          Deep learning framework developed by <a class="header name" href="http://daggerfs.com/">Yangqing Jia</a> / <a class="header name" href="http://bvlc.eecs.berkeley.edu/">BVLC</a>
        </p>
        <ul>
          <li>
            <a class="buttons github" href="https://github.com/BVLC/caffe">View On GitHub</a>
          </li>
        </ul>
      </header>
      <section>

      <h1 id="development">Development</h1>

<p>Caffe is developed with active participation of the community.<br />
The <a href="http://bvlc.eecs.berkeley.edu/">BVLC</a> maintainers welcome all contributions!</p>

<p>The exact details of contributions are recorded by versioning and cited in our <a href="http://caffe.berkeleyvision.org/#acknowledgements">acknowledgements</a>.
This method is impartial and always up-to-date.</p>

<h2 id="license">License</h2>

<p>Caffe is licensed under the terms in <a href="https://github.com/BVLC/caffe/blob/master/LICENSE">LICENSE</a>. By contributing to the project, you agree to the license and copyright terms therein and release your contribution under these terms.</p>

<h2 id="copyright">Copyright</h2>

<p>Caffe uses a shared copyright model: each contributor holds copyright over their contributions to Caffe. The project versioning records all such contribution and copyright details.</p>

<p>If a contributor wants to further mark their specific copyright on a particular contribution, they should indicate their copyright solely in the commit message of the change when it is committed. Do not include copyright notices in files for this purpose.</p>

<h3 id="documentation">Documentation</h3>

<p>This website, written with <a href="http://jekyllrb.com/">Jekyll</a>, functions as the official Caffe documentation – simply run <code>scripts/build_docs.sh</code> and view the website at <code>http://0.0.0.0:4000</code>.</p>

<p>We prefer tutorials and examples to be documented close to where they live, in <code>readme.md</code> files.
The <code>build_docs.sh</code> script gathers all <code>examples/**/readme.md</code> and <code>examples/*.ipynb</code> files, and makes a table of contents.
To be included in the docs, the readme files must be annotated with <a href="http://jekyllrb.com/docs/frontmatter/">YAML front-matter</a>, including the flag <code>include_in_docs: true</code>.
Similarly for IPython notebooks: simply include <code>"include_in_docs": true</code> in the <code>"metadata"</code> JSON field.</p>

<p>Other docs, such as installation guides, are written in the <code>docs</code> directory and manually linked to from the <code>index.md</code> page.</p>

<p>We strive to provide provide lots of usage examples, and to document all code in docstrings.
We absolutely appreciate any contribution to this effort!</p>

<h3 id="the-release-cycle">The release cycle</h3>

<ul>
  <li>The <code>dev</code> branch receives all new development, including community contributions.
We aim to keep it in a functional state, but large changes do occur, and things do get broken every now and then.
Use only if you want the “bleeding edge”.</li>
  <li>BVLC maintainers will periodically update the <code>master</code> branch with changes from <code>dev</code>, giving it a release tag (<a href="https://github.com/BVLC/caffe/releases">releases so far</a>).
Use this if you want more stability.</li>
</ul>

<h3 id="issues--pull-request-protocol">Issues &amp; Pull Request Protocol</h3>

<p>Use Github Issues to report <a href="https://github.com/BVLC/caffe/issues?labels=bug&amp;page=1&amp;state=open">bugs</a>, propose features, and ask development <a href="https://github.com/BVLC/caffe/issues?labels=question&amp;page=1&amp;state=open">questions</a>.
Large-scale development work is guided by <a href="https://github.com/BVLC/caffe/issues?milestone=1">milestones</a>, which are sets of Issues selected for concurrent release (integration from <code>dev</code> to <code>master</code>).</p>

<p>Please note that since the core developers are largely researchers, we may work on a feature in isolation for some time before releasing it to the community, so as to claim honest academic contribution.
We do release things as soon as a reasonable technical report may be written, and we still aim to inform the community of ongoing development through Github Issues.</p>

<p>When you are ready to start developing your feature or fixing a bug, follow this protocol:</p>

<ul>
  <li>Develop in <a href="https://www.atlassian.com/git/workflows#!workflow-feature-branch">feature branches</a> with descriptive names.
    <ul>
      <li>For new development branch off <code>dev</code>.</li>
      <li>For documentation and fixes for <code>master</code> branch off <code>master</code>.</li>
    </ul>
  </li>
  <li>Bring your work up-to-date by <a href="http://git-scm.com/book/en/Git-Branching-Rebasing">rebasing</a> onto the latest <code>dev</code> / <code>master</code>.
(Polish your changes by <a href="https://help.github.com/articles/interactive-rebase">interactive rebase</a>, if you’d like.)</li>
  <li><a href="https://help.github.com/articles/using-pull-requests">Pull request</a> your contribution to <code>BVLC/caffe</code>’s <code>dev</code> / <code>master</code> branch for discussion and review.
    <ul>
      <li>Make PRs <em>as soon as development begins</em>, to let discussion guide development.</li>
      <li>A PR is only ready for merge review when it is a fast-forward merge, and all code is documented, linted, and tested – that means your PR must include tests!</li>
    </ul>
  </li>
  <li>When the PR satisfies the above properties, use comments to request maintainer review.</li>
</ul>

<p>Below is a poetic presentation of the protocol in code form.</p>

<h4 id="shelhamershttpsgithubcomshelhamer-life-of-a-branch-in-four-acts"><a href="https://github.com/shelhamer">Shelhamer’s</a> “life of a branch in four acts”</h4>

<p>Make the <code>feature</code> branch off of the latest <code>bvlc/dev</code>
<code>
git checkout dev
git pull upstream dev
git checkout -b feature
# do your work, make commits
</code></p>

<p>Prepare to merge by rebasing your branch on the latest <code>bvlc/dev</code>
<code>
# make sure dev is fresh
git checkout dev
git pull upstream dev
# rebase your branch on the tip of dev
git checkout feature
git rebase dev
</code></p>

<p>Push your branch to pull request it into <code>dev</code>
<code>
git push origin feature
# ...make pull request to dev...
</code></p>

<p>Now make a pull request! You can do this from the command line (<code>git pull-request -b dev</code>) if you install <a href="https://github.com/github/hub">hub</a>.</p>

<p>The pull request of <code>feature</code> into <code>dev</code> will be a clean merge. Applause.</p>

<h3 id="testing">Testing</h3>

<p>Run <code>make runtest</code> to check the project tests. New code requires new tests. Pull requests that fail tests will not be accepted.</p>

<p>The <code>googletest</code> framework we use provides many additional options, which you can access by running the test binaries directly. One of the more useful options is <code>--gtest_filter</code>, which allows you to filter tests by name:</p>

<pre><code># run all tests with CPU in the name
build/test/test_all.testbin --gtest_filter='*CPU*'

# run all tests without GPU in the name (note the leading minus sign)
build/test/test_all.testbin --gtest_filter=-'*GPU*'
</code></pre>

<p>To get a list of all options <code>googletest</code> provides, simply pass the <code>--help</code> flag:</p>

<pre><code>build/test/test_all.testbin --help
</code></pre>

<h3 id="style">Style</h3>

<ul>
  <li>Follow <a href="http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml">Google C++ style</a> and <a href="http://google-styleguide.googlecode.com/svn/trunk/pyguide.html">Google python style</a> + <a href="http://legacy.python.org/dev/peps/pep-0008/">PEP 8</a>.</li>
  <li>Wrap lines at 80 chars.</li>
  <li>Remember that “a foolish consistency is the hobgoblin of little minds,” so use your best judgement to write the clearest code for your particular case.</li>
  <li><strong>Run <code>make lint</code> to check C++ code.</strong></li>
</ul>


      </section>
  </div>
  </body>
</html>
